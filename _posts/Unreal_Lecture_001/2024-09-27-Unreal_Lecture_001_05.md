---
title:  "[Unreal Lecture 001] OnlineSubsystem"
excerpt: ""

author: gunnHB
categories: 
 - UnrealLecture
tags: 
 - [Github, Git, Unreal, Programming, UnrealLecture, C++]

toc: true
toc_sticky: true
 
date: 2024-09-27
last_modified_at: 2024-09-27
---

π”” μ λ°λ―Έ [μ–Έλ¦¬μ–Ό C++ λ©€ν‹°ν”λ μ΄μ–΄ λ§μ¤ν„° : μ¤‘κΈ‰ κ²μ„ κ°λ°](https://www.udemy.com/course/best-unreal-c/?couponCode=ST22MT92324B)μ„ μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤. π””
{: .notice}

## Online Subsystem
λ©€ν‹° ν”λ μ΄ κ²μ„μ„ μ μ‘ν•  λ• μ—¬λ¬ ν”λ«νΌλ“¤(PS, Xbox, Steam, ...)μ„ κ³ λ ¤ν•λ©΄μ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤. ν•μ§€λ§ λ¨λ“  κ²½μ°λ¥Ό λ‹¤ λ‚λ  μ μ‘ν•κΈ°μ—λ”
λ²κ±°λ΅μ΄ κ²ƒμ΄ μ‚¬μ‹¤μ΄λ‹¤. μ΄λ¥Ό μ„ν•΄ μ–Έλ¦¬μ–Όμ—μ„λ” `OnlineSubsystemOSS`μ„ μ§€μ›ν•΄μ£Όλ©°, `μΈν„°νμ΄μ¤interface`λ¥Ό ν†µν•΄ κ³µν†µλ λ°©μ‹μΌλ΅ μ ‘κ·Όν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.

### μΈν„°νμ΄μ¤

|μΈν„°νμ΄μ¤|μ„¤λ…|
|--|--|
|Achievements|μ—…μ  - κ²μ„μ λ¨λ“  μ—…μ μ„ λ‚μ—΄ν•κ³ , μ—…μ μ„ ν•΄μ ν•λ©°, μμ‹ μ΄ ν•΄μ ν• μ—…μ κ³Ό λ‹¤λ¥Έ μ‚¬μ©μκ°€ ν•΄μ ν• μ—…μ μ„ κ²€μ‚¬ν•©λ‹λ‹¤.|
|External UI|μ™Έλ¶€ UI - νΉμ • ν•λ“μ›¨μ–΄ ν”λ«νΌ λλ” μ¨λΌμΈ μ„λΉ„μ¤μ— λ€ν•΄ λ‚΄μ¥λ μ μ € μΈν„°νμ΄μ¤λ¥Ό μ—½λ‹λ‹¤. κ²½μ°μ— λ”°λΌ μ΄ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄μ„λ§ νΉμ • ν•µμ‹¬ κΈ°λ¥μ— μ•΅μ„Έμ¤λ¥Ό λ¶€μ—¬ν•λ” μ„λΉ„μ¤λ„ μμµλ‹λ‹¤.|
|Friends|μΉκµ¬ - μΉκµ¬μ™€ μΉκµ¬ λ©λ΅ κ΄€λ ¨λ λ¨λ“  κ²ƒμ…λ‹λ‹¤. μλ¥Ό λ“¤λ©΄ μΉκµ¬ λ©λ΅μ— μ‚¬μ©μ μ¶”κ°€, μ‚¬μ©μ μ°¨λ‹¨ λ° ν•΄μ , μµκ·Ό μ¨λΌμΈμ—μ„ λ§λ‚ ν”λ μ΄μ–΄ λ‚μ—΄ λ“±μ…λ‹λ‹¤.|
|Leaderboard|λ¦¬λ”λ³΄λ“ - μ¨λΌμΈ λ¦¬λ”λ³΄λ“λ¥Ό μ•΅μ„Έμ¤ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ μκΈ° μ μ (λλ” νμ) λ“±λ΅, μΉκµ¬ λ©λ΅μ΄λ‚ μ „ μ„Έκ³„ ν”λ μ΄μ–΄ μ μλ¥Ό ν™•μΈν•©λ‹λ‹¤.|
|Online User|μ¨λΌμΈ μ‚¬μ©μ - μ‚¬μ©μ κ΄€λ ¨ λ©”νƒ€λ°μ΄ν„°λ¥Ό μμ§‘ν•©λ‹λ‹¤.|
|Presence|ν„μ¬μƒνƒ - λ‹¤λ¥Έ μ‚¬μ©μμ—κ² μμ‹ μ μ¨λΌμΈ μƒνƒλ¥Ό ν‘μ‹ν•λ” λ°©λ²•μ„ μ„¤μ •ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ "μ¨λΌμΈ", "μλ¦¬ λΉ„μ›€", "κ²μ„ ν”λ μ΄ μ¤‘" λ“±μ…λ‹λ‹¤.|
|Purchase|κµ¬λ§¤ - κ²μ„ λ‚΄ κµ¬λ§¤μ™€ κ³Όκ±° κµ¬λ§¤ λ‚΄μ—­ κ²€ν† μ…λ‹λ‹¤.|
|Session|μ„Έμ… - μ¨λΌμΈ κ²μ„ μ„Έμ… μƒμ„±, μ†λ©Έ, κ΄€λ¦¬μ…λ‹λ‹¤. μ„Έμ… κ²€μƒ‰κ³Ό λ§¤μΉλ©”μ΄ν‚Ή μ‹μ¤ν…λ„ ν¬ν•¨λ©λ‹λ‹¤.|
|Store|μ¤ν† μ–΄ - κ²μ„ λ‚΄ κµ¬λ§¤μ— μ‚¬μ©ν•  μ μλ” μΉ΄ν…κ³ λ¦¬μ™€ νΉμ • μ μ•μ„ λ¶λ¬μµλ‹λ‹¤.|
|User Cloud|μ μ € ν΄λΌμ°λ“ - μ μ € ν΄λΌμ°λ“ νμΌ μ €μ¥μ„ μ„ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.|

## OSS μ‚¬μ©ν•κΈ°
### λ¨λ“ μ¶”κ°€
μ–Έλ¦¬μ–Όμ—μ„ OnlineSubsystemμ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μ°μ„  ν•΄λ‹Ήν•λ” λ¨λ“μ„ μ¶”κ°€ν•΄μ•Ό ν•λ‹¤. [ν”„λ΅μ νΈ.Build.cs] νμΌλ΅ μ΄λ™ν•΄ μ•„λμ™€ κ°™μ΄ λ¨λ“μ„ μ¶”κ°€ν•λ©΄ λλ‹¤.

```c#
// ν”„λ΅μ νΈ.Build.cs

// ...
PublicDependencyModuleNames.AddRange(new string[]
		{
			"Core",
			"CoreUObject",
			"Engine",
			"InputCore",
			"EnhancedInput",
			"UMG",
			"OnlineSubsystem",          // OnlineSubsystemμ„ μ„ν• λ¨λ“
		});
```

μ¶”κ°€ ν›„ λΉλ“λ¥Ό λλ¦¬λ©΄ OnlineSubsystemμ κΈ°λ¥μ„ μ‚¬μ©ν•  μ μκ² λλ‹¤.

### OnlineSubsystem::Get()
μ΄μ  OnlineSubsystemμ„ κ°€μ Έμ¤μ. κ·Έλ¬κΈ° μ„ν•΄μ„  λ¨Όμ € GameInstance ν΄λμ¤λ΅ μ΄λ™ν•΄ μƒλ‹¨μ— `OnlineSubsystem.h` μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‹¤.

```c++
// GameInstance.cpp

// ...
#include "OnlineSubsystem.h"
```

κ·Έ ν›„ Init ν•¨μ λ‚΄λ¶€μ—μ„ `IOnlineSubsystem::Get()` ν•¨μλ¥Ό μ΄μ©ν•΄ κ°’μ„ μ–»μ–΄μ¤λ©΄ λλ‹¤.

```c++
// GameInstance.cpp

void UPuzzlePlatformGameInstance::Init()
{
    Super::Init();

    // ...
    IOnlineSubsystem* SubSystem = IOnlineSubsystem::Get();

	// κ°’ ν• λ‹Ή μ—¬λ¶€λ¥Ό μ„ν• λ΅κ·Έ
    if(SubSystem == nullptr)
        UE_LOG(Puzzle, Warning, TEXT("found no subsystem!"));
    else
        UE_LOG(Puzzle, Warning, TEXT("found subsystem : %s"), *Subsystem->GetNameInterface());
}
```

OnlineSubsystemUtils.h μ„ μ¶”κ°€ν• ν›„ Online::GetSubsystem() ν•¨μλ¥Ό μ΄μ©ν•΄ μ–»μ–΄μ¤λ” κ²ƒλ„ κ°€λ¥ν•λ‹¤.
{: .notice--info}

### ν…μ¤νΈν•κΈ°
μ„μ™€ κ°™μ΄ μ½”λ“λ¥Ό μ‘μ„±ν• ν›„ μ‹¤ν–‰ν•΄λ³΄λ©΄ μ•„λ§ `found no subsystem!`μ΄ μ¶λ ¥λ  κ²ƒμ΄λ‹¤. μ΄λ” μ•„μ§ <u>ν”„λ΅μ νΈ ν™κ²½μ΄ λ‹¤ κ°–μ¶°μ§€μ§€ μ•μ•κΈ° λ•λ¬Έ</u>μ΄λ‹¤.
ν”„λ΅μ νΈμ `Engine.ini` νμΌλ΅ μ΄λ™ν•΄ λ‹¤μ λ‚΄μ©μ„ μ¶”κ°€ν•μ.

```c++
[OnlineSubsystem]
DefaultPlatformService=NULL
```

μ΄λ” OSSμ κΈ°λ³Έ ν”λ«νΌ μ„λΉ„μ¤λ¥Ό μ„Έν…ν•λ” λ‚΄μ©μΈλ°, `NULL`μ κ²½μ° <u>OSS ν…μ¤νΈμ— ν•„μ”ν• μµμ†ν•μ λ‚΄μ©μ„ λ‹΄κ³  μλ‹¤.</u>

μ΄λ¥Ό μ΄μ©ν•΄ OSSκ°€ μ κ³µν•λ” κΈ°λ¥λ“¤μ„ μ•μ•„λ³΄λ©° ν•™μµν•  μ μλ‹¤.
{: .notice--info}

μ΄ν›„ μ–Έλ¦¬μ–Ό μ—λ””ν„°λ¥Ό μ¬λ¶€ν…ν•μ—¬ ν”λ μ΄ν•λ©΄ `found subsystem : NULL`μ΄ μ¶λ ¥λλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤. μ΄λ΅μ¨ OSSλ¥Ό μ‚¬μ©ν•  μ¤€λΉ„κ°€ λλ‚¬λ‹¤!

## λ§λ¬΄λ¦¬
μ΄λ² ν¬μ¤ν…μ—μ„λ” OnlineSubsystemμ κ°λ…κ³Ό μ–Έλ¦¬μ–Όμ—μ„ OSSλ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ— λ€ν•΄ μ•μ•„λ³΄μ•λ‹¤.π