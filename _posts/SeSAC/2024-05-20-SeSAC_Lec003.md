---
title:  "[SeSAC] 003. 배열"
excerpt: "C++의 배열에 대한 설명입니다!"

author: gunnHB
categories: 
 - SeSAC
tags: 
 - [Github, Git, Unreal, Programming, C++]

toc: true
toc_sticky: true
 
date: 2024-05-20
last_modified_at: 2024-05-20
---

🔔 새싹 언리얼엔진을 활용한 게임프로그래머 양성과정 강의를 듣고 정리한 내용입니다. 🔔
{: .notice}

## 배열
`배열`은 <u>같은 타입의 변수가 여러개 필요한 경우</u> 사용할 수 있는 문법입니다. 여기서 중요한 것은 같은 타입인 변수들이라는 것입니다.

배열을 선언하면 메모리에 <u>(타입의 크기 * 배열의 길이)</u>만큼의 공간이 할당됩니다. 만약 배열의 길이가 10인 int형 배열을 선언한다면
메모리에 4byte * 10인 40byte만큼의 공간을 차지하는 것입니다.

우리가 생성하는 변수는 메모리에 차곡차곡 정리되는 것이 아닌 <u>적당한 공간에 할당</u>됩니다. 그렇기 때문에
개발자가 <u>변수 세 개를 선언했다고 해서 세 변수의 공간이 나란하지 않습니다.</u>

하지만 배열을 선언하면 메모리의 적당한 공간에 <u>일렬로 생성</u>됩니다. 여기서 만약 배열의 요소에 접근하고 싶다면 먼저 해당 배열의 <u>주소</u>를 알아야합니다.

### 주소
`주소`는 <u>요소의 위치</u>입니다. 여기서의 요소는 메모리에 올라간 모든 것들입니다. 메모리에 올라간 요소의 주소만 알고 있다면 접근하여 사용하는 것이 매우 쉬워집니다.

주소를 할당하는 것은 운영체제만의 고유 권한입니다.
{: .notice--info}

주소의 크기는 시스템에 따라 다릅니다. 만약 32bit 체계를 사용한다면 32bit이고, 64bit 체계에서는 64bit입니다. 주소는 16진수 16개로 구성됩니다. 여기서 16진수는 2진수(1bit) 4개로 구성되기 때문에
4bit입니다. 그렇기에 16진수가 16개라는 것은 64bit 즉, 8byte입니다.

위 설명은 64bit 쳬계에서의 계산입니다.
{: .notice--info}

### 배열 선언
```c++
// 배열 선언 기본
// 변수타입 배열명[개수];
int array[10];

// 선언만 하면 배열의 요소에는 쓰레기 값이 들어간다.
// 그래서 만약 바로 할당하고 싶다면
// 아래처럼 선언과 동시에 값을 할당할 수 있다.
int array[3] = {200, 400, 600};

// 만약 따로 할당할 값이 없다면 중괄호를 비워도 된다.
// 이렇게 할당하면 모든 요소에 0을 할당하게 된다.
int array[3] = {};

// 아래와 같이 할당했다면 배열의 첫 번째부터 세 번째까지는 값을 해당하는 값을 넣고
// 이후의 요소에는 0을 할당하게 된다.
int array[5] = {4, 2, 1};
```

반복문을 이용해 할당할 수도 있습니다.
{: .notice--info}

### 배열의 인덱스
배열을 선언했다면 배열을 사용해야 합니다. 우리가 배열을 사용하기 위해 배열 자체를 출력해보면

```c++
int array[5] = {1, 3, 5, 7, 9};

std::cout << array << std::endl;
```

배열의 특정 요소 값이 아닌 <u>16자리의 16진수</u> 즉, `주소`가 출력되는 것을 확인할 수 있습니다. 해당 주소는 <u>배열의 첫 번째 요소의 주소</u>입니다.

그렇기 때문에 특정 요소의 값에 접근하기 위해서는 `인덱스`를 이용해야 합니다.

```c++
int array[5] = {100, 200, 300, 400, 500};

// 인덱스는 대괄호 안에 원하는 순번을 입력하면 된다.
// 중요한 것은 첫 번째 요소는 0번이라는 것
// 그렇기 때문에 크기가 N인 배열은
// 0 ~ N - 1번의 인덱스를 가진다.

std::cout << array[2] << std::endl; // 300 출력
```

만약 인덱스의 범위를 넘거나 음수를 입력하면 프로그램이 중단될 수 있습니다.
{: .notice--warning}

추가적으로 배열은 메모리에 일렬로 나열되기 때문에 <u>다음 순서의 주소는 이전 주소에 타입의 크기만큼 더해주면</u> 됩니다.
예를 들어 char형의 배열은 1byte, int형 배열은 4byte를 더하면 됩니다.

### 다차원 배열
배열을 다차원으로 선언할 수도 있습니다.

```c++
int array1[10] = {};        // 1차원
int array2[2][3] = {};      // 2차원 (2 * 3)
int array3[3][4][5] = {};   // 3차원 (3 * 4 * 5)
...
```

메모리의 입장에서는 다차원 배열의 공간 역시 다차원 크기만큼의 1차원 배열의 공간을 할당하는 것과 같습니다. 2차원 이상의 배열을 사용하는 것은 개발자의 편의를 제공해주는 것입니다.

```c++
int array[5][3] = {};

for (int row = 0; row < 5; row++)
{
    for (int col = 0; col < 3; col++)
    {
        // 0 ~ 14까지의 숫자를 할당
        // 아래 식은 그냥 외우는 것이 좋다.
        array[row][col] = row * 5 + col;
    }
}
```

꼭 다차원 배열을 사용하지 않아도 됩니다. 개발 스타일의 영역입니다.
{: .notice--info}