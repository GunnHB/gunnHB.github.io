---
title:  "[유니티 게임 AI 프로그래밍] 003. 센서 구현"
excerpt: "센서를 구현해봅시다!"

author: gunnHB
categories: 
 - AI Programming
tags: 
 - [Github, Git, Unity, Programming, AI Programming, C#]

toc: true
toc_sticky: true
 
date: 2023-09-22
last_modified_at: 2023-09-22
---

🔔 유니티 게임 AI 프로그래밍 2/e 서적을 정리한 내용입니다. 🔔
{: .notice}

<div class="notice--info" markdown="1">
3장에서는 살아있는 생명체와 유사한 감각 시스템 개념을 사용해 인공지능 행동을 구현해볼 예정입니다.

NPC의 인공지능 수준은 전적으로 환경으로부터 얻는 정보의 종류와 양에 의해 결정됩니다.
인공지능 캐릭터는 이런 정보를 토대로 어떤 로직을 실행할지 결정하는데,
만일 정보가 충분하지 않으면 캐릭터는 이상한 행동을 하게 될 것입니다.

모든 환경 매개변수를 검사하고 그에 대응하도록 만들 수도 있지만 좀 더 효율적인 디자인 패턴을 사용하면
코드의 유지보수와 확장이 쉬워집니다.

3장에서는 센서 시스템을 만들 때 유용하게 사용할 수 있는 디자인 패턴을 소개할 예정입니다.

- 센서 시스템의 의미
- 다양한 센서 시스템 소개
- 센서를 사용해 탱크 예제 설정하기
</div>

## 기본 센서 시스템
인공지능 센서 시스템은 시각이나 청각 후각 등을 흉내내는 형태로 사물을 인지합니다.
센서 시스템에서 에이전트는 자신이 관심을 두는 감각에 대해 주기적인 환경 검사를 수행합니다.

기본 센서 시스템 개념에는 2개의 컴포넌트가 존재합니다.

- Aspect
- Sense

우리의 인공지능 캐릭터는 지각이나 후각, 촉각 같은 감각기관을 통해 적을 감지할 것입니다.
기본적으로 구현하려는 베이스 인터페이스 `Sense`로 다른 커스텀 센스가 상속받아서 구현하게 됩니다.

만일 인공지능 캐릭터가 적을 발견하면 알림을 받아 어떤 행동을 처리하면 됩니다.

가장 먼저 최소한의 형태를 가지는 `Aspect` 클래스를 만들어봅시다.

## 콘 형태의 시야
2장에서 적의 시야에 플레이어가 있는지 감지하는 기능을 구현하기 위해 유니티의 
`레이캐스트` 방식을 사용했습니다. 이는 매우 간단하고 효율적인 모델이지만 시야를 처리하는데
그리 정확하진 않습니다.

이를 보완하기 위해 콘`Corn` 모양의 시야를 사용하는데, 이 방식은 2D, 3D 모두에서 사용 가능합니다.

![Ch003_001](https://github.com/GunnHB/gunnHB.github.io/assets/117302300/21816567-8a2c-4b99-bfb4-0b7a8d975e79){: .align-center}{: width="70%" height="70%"}

위 그림처럼 에이전트의 눈으로부터 콘이 시작되어 커지며 거리가 멀어질수록 정확도는 낮아집니다.

💡색상의 농도는 커리에 따라 정확도가 낮아지는 모습입니다.
{: .notice--info}

간단한 모델에서는 거리가 주변을 곻려하지 않고 단지 겹치는지만 확인하면 됩니다. 좀 더 복잡한 구현에서는
콘이 원점으로부터 멀어짐에 따라 볼 수 있는 영역도 늘어나지만 콘의 가장자리로 갈수록 중앙부에 비해
볼 수 있는 가능성은 줄어듭니다.

